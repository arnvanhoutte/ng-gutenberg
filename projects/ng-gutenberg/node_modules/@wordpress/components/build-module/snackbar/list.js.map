{"version":3,"sources":["@wordpress/components/src/snackbar/list.js"],"names":["classnames","omit","noop","useTransition","animated","useReducedMotion","useState","Snackbar","SnackbarList","notices","className","children","onRemove","isReducedMotion","WeakMap","refMap","transitions","notice","id","from","opacity","height","enter","item","next","get","offsetHeight","leave","immediate","removeNotice","map","key","style","props","ref","set","content"],"mappings":";;;;;;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,QAA3B;AACA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,sBAAxC;AAEA;;;;AAGA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AAEA;;;;AAGA,OAAOC,QAAP,MAAqB,IAArB;AAEA;;;;;;;;;;;AAUA,SAASC,YAAT,OAA2E;AAAA,MAAlDC,OAAkD,QAAlDA,OAAkD;AAAA,MAAzCC,SAAyC,QAAzCA,SAAyC;AAAA,MAA9BC,QAA8B,QAA9BA,QAA8B;AAAA,2BAApBC,QAAoB;AAAA,MAApBA,QAAoB,8BAATV,IAAS;AAC1E,MAAMW,eAAe,GAAGR,gBAAgB,EAAxC;;AAD0E,kBAEvDC,QAAQ,CAAE;AAAA,WAAM,IAAIQ,OAAJ,EAAN;AAAA,GAAF,CAF+C;AAAA;AAAA,MAElEC,MAFkE;;AAG1E,MAAMC,WAAW,GAAGb,aAAa,CAChCM,OADgC,EAEhC,UAAEQ,MAAF;AAAA,WAAcA,MAAM,CAACC,EAArB;AAAA,GAFgC,EAGhC;AACCC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,OAAO,EAAE,CAAX;AAAcC,MAAAA,MAAM,EAAE;AAAtB,KADP;AAECC,IAAAA,KAAK,EAAE,eAAEC,IAAF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAY,iBAAQC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwBA,IAAI,CAAE;AAAEJ,sBAAAA,OAAO,EAAE,CAAX;AAAcC,sBAAAA,MAAM,EAAEN,MAAM,CAACU,GAAP,CAAYF,IAAZ,EAAmBG;AAAzC,qBAAF,CAA5B;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFR;AAGCC,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAM,kBAAQH,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACNA,IAAI,CAAE;AAAEJ,sBAAAA,OAAO,EAAE;AAAX,qBAAF,CADE;;AAAA;AAAA;AAAA,2BAENI,IAAI,CAAE;AAAEH,sBAAAA,MAAM,EAAE;AAAV,qBAAF,CAFE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAHR;AAOCO,IAAAA,SAAS,EAAEf;AAPZ,GAHgC,CAAjC;AAcAH,EAAAA,SAAS,GAAGV,UAAU,CAAE,0BAAF,EAA8BU,SAA9B,CAAtB;;AACA,MAAMmB,YAAY,GAAG,SAAfA,YAAe,CAAEZ,MAAF;AAAA,WAAc;AAAA,aAAML,QAAQ,CAAEK,MAAM,CAACC,EAAT,CAAd;AAAA,KAAd;AAAA,GAArB;;AAEA,SACC;AAAK,IAAA,SAAS,EAAGR;AAAjB,KACGC,QADH,EAEGK,WAAW,CAACc,GAAZ,CAAiB;AAAA,QAAUb,MAAV,SAAIM,IAAJ;AAAA,QAAkBQ,GAAlB,SAAkBA,GAAlB;AAAA,QAA8BC,KAA9B,SAAuBC,KAAvB;AAAA,WAClB,cAAC,QAAD,CAAU,GAAV;AAAc,MAAA,GAAG,EAAGF,GAApB;AAA0B,MAAA,KAAK,EAAGC;AAAlC,OACC;AACC,MAAA,SAAS,EAAC,4CADX;AAEC,MAAA,GAAG,EAAG,aAAEE,KAAF;AAAA,eAAWA,KAAG,IAAInB,MAAM,CAACoB,GAAP,CAAYlB,MAAZ,EAAoBiB,KAApB,CAAlB;AAAA;AAFP,OAIC,cAAC,QAAD,eACMjC,IAAI,CAAEgB,MAAF,EAAU,CAAE,SAAF,CAAV,CADV;AAEC,MAAA,QAAQ,EAAGY,YAAY,CAAEZ,MAAF;AAFxB,QAIGA,MAAM,CAACmB,OAJV,CAJD,CADD,CADkB;AAAA,GAAjB,CAFH,CADD;AAoBA;;AAED,eAAe5B,YAAf","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { omit, noop } from 'lodash';\nimport { useTransition, animated } from 'react-spring/web.cjs';\n\n/**\n * WordPress dependencies\n */\nimport { useReducedMotion } from '@wordpress/compose';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Snackbar from './';\n\n/**\n * Renders a list of notices.\n *\n * @param  {Object}   $0           Props passed to the component.\n * @param  {Array}    $0.notices   Array of notices to render.\n * @param  {Function} $0.onRemove  Function called when a notice should be removed / dismissed.\n * @param  {Object}   $0.className Name of the class used by the component.\n * @param  {Object}   $0.children  Array of children to be rendered inside the notice list.\n * @return {Object}                The rendered notices list.\n */\nfunction SnackbarList( { notices, className, children, onRemove = noop } ) {\n\tconst isReducedMotion = useReducedMotion();\n\tconst [ refMap ] = useState( () => new WeakMap() );\n\tconst transitions = useTransition(\n\t\tnotices,\n\t\t( notice ) => notice.id,\n\t\t{\n\t\t\tfrom: { opacity: 0, height: 0 },\n\t\t\tenter: ( item ) => async ( next ) => await next( { opacity: 1, height: refMap.get( item ).offsetHeight } ),\n\t\t\tleave: () => async ( next ) => {\n\t\t\t\tawait next( { opacity: 0 } );\n\t\t\t\tawait next( { height: 0 } );\n\t\t\t},\n\t\t\timmediate: isReducedMotion,\n\t\t}\n\t);\n\n\tclassName = classnames( 'components-snackbar-list', className );\n\tconst removeNotice = ( notice ) => () => onRemove( notice.id );\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t{ children }\n\t\t\t{ transitions.map( ( { item: notice, key, props: style } ) => (\n\t\t\t\t<animated.div key={ key } style={ style }>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"components-snackbar-list__notice-container\"\n\t\t\t\t\t\tref={ ( ref ) => ref && refMap.set( notice, ref ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t{ ...omit( notice, [ 'content' ] ) }\n\t\t\t\t\t\t\tonRemove={ removeNotice( notice ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ notice.content }\n\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t</div>\n\t\t\t\t</animated.div>\n\t\t\t) ) }\n\t\t</div>\n\t);\n}\n\nexport default SnackbarList;\n"]}