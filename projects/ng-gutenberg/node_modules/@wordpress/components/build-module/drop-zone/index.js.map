{"version":3,"sources":["@wordpress/components/src/drop-zone/index.js"],"names":["classnames","__","Component","createRef","Dashicon","DropZoneConsumer","DropZone","props","addDropZone","removeDropZone","DropZoneComponent","arguments","dropZoneElement","dropZone","element","onDrop","onFilesDrop","onHTMLDrop","setState","bind","state","isDraggingOverDocument","isDraggingOverElement","position","type","current","className","label","classes","y","x","children"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Dashicon from '../dashicon';\nimport { DropZoneConsumer } from './provider';\n\nconst DropZone = ( props ) => (\n\t<DropZoneConsumer>\n\t\t{ ( { addDropZone, removeDropZone } ) => (\n\t\t\t<DropZoneComponent\n\t\t\t\taddDropZone={ addDropZone }\n\t\t\t\tremoveDropZone={ removeDropZone }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t) }\n\t</DropZoneConsumer>\n);\n\nclass DropZoneComponent extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.dropZoneElement = createRef();\n\t\tthis.dropZone = {\n\t\t\telement: null,\n\t\t\tonDrop: this.props.onDrop,\n\t\t\tonFilesDrop: this.props.onFilesDrop,\n\t\t\tonHTMLDrop: this.props.onHTMLDrop,\n\t\t\tsetState: this.setState.bind( this ),\n\t\t};\n\t\tthis.state = {\n\t\t\tisDraggingOverDocument: false,\n\t\t\tisDraggingOverElement: false,\n\t\t\tposition: null,\n\t\t\ttype: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// Set element after the component has a node assigned in the DOM\n\t\tthis.dropZone.element = this.dropZoneElement.current;\n\t\tthis.props.addDropZone( this.dropZone );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.removeDropZone( this.dropZone );\n\t}\n\n\trender() {\n\t\tconst { className, label } = this.props;\n\t\tconst { isDraggingOverDocument, isDraggingOverElement, position, type } = this.state;\n\t\tconst classes = classnames( 'components-drop-zone', className, {\n\t\t\t'is-active': isDraggingOverDocument || isDraggingOverElement,\n\t\t\t'is-dragging-over-document': isDraggingOverDocument,\n\t\t\t'is-dragging-over-element': isDraggingOverElement,\n\t\t\t'is-close-to-top': position && position.y === 'top',\n\t\t\t'is-close-to-bottom': position && position.y === 'bottom',\n\t\t\t'is-close-to-left': position && position.x === 'left',\n\t\t\t'is-close-to-right': position && position.x === 'right',\n\t\t\t[ `is-dragging-${ type }` ]: !! type,\n\t\t} );\n\n\t\tlet children;\n\t\tif ( isDraggingOverElement ) {\n\t\t\tchildren = (\n\t\t\t\t<div className=\"components-drop-zone__content\">\n\t\t\t\t\t<Dashicon\n\t\t\t\t\t\ticon=\"upload\"\n\t\t\t\t\t\tsize=\"40\"\n\t\t\t\t\t\tclassName=\"components-drop-zone__content-icon\"\n\t\t\t\t\t/>\n\t\t\t\t\t<span className=\"components-drop-zone__content-text\">\n\t\t\t\t\t\t{ label ? label : __( 'Drop files to upload' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div ref={ this.dropZoneElement } className={ classes }>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DropZone;\n"]}