{"version":3,"sources":["@wordpress/blocks/src/block-content-provider/index.js"],"names":["Consumer","Provider","BlockContentProvider","children","innerBlocks","BlockContent","html","isInnerBlocks","withBlockContentContext","OriginalComponent","props","context"],"mappings":";;;;;;;;;AAIA;;;;AADA;;AAMA;;AATA;;;;AAMA;;;qBAK+B,4BAAe,YAAM,CAAE,CAAvB,C;IAAvBA,Q,kBAAAA,Q;IAAUC,Q,kBAAAA,Q;AAElB;;;;;;;;;;;;;;;;;;;AAiBA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,OAAiC;AAAA,MAA7BC,QAA6B,QAA7BA,QAA6B;AAAA,MAAnBC,WAAmB,QAAnBA,WAAmB;;AAC7D,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B;AACA,QAAMC,IAAI,GAAG,oBAAWF,WAAX,EAAwB;AAAEG,MAAAA,aAAa,EAAE;AAAjB,KAAxB,CAAb,CAF0B,CAI1B;;AACA,WAAO,4BAAC,gBAAD,QAAWD,IAAX,CAAP;AACA,GAND;;AAQA,SACC,4BAAC,QAAD;AAAU,IAAA,KAAK,EAAGD;AAAlB,KACGF,QADH,CADD;AAKA,CAdD;AAgBA;;;;;;;;AAMO,IAAMK,uBAAuB,GAAG,yCAA4B,UAAEC,iBAAF,EAAyB;AAC3F,SAAO,UAAEC,KAAF;AAAA,WACN,4BAAC,QAAD,QACG,UAAEC,OAAF;AAAA,aACD,4BAAC,iBAAD,6BACMD,KADN;AAEC,QAAA,YAAY,EAAGC;AAFhB,SADC;AAAA,KADH,CADM;AAAA,GAAP;AAUA,CAXsC,EAWpC,yBAXoC,CAAhC;;eAaQT,oB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { createContext, RawHTML } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { serialize } from '../api';\n\nconst { Consumer, Provider } = createContext( () => {} );\n\n/**\n * An internal block component used in block content serialization to inject\n * nested block content within the `save` implementation of the ancestor\n * component in which it is nested. The component provides a pre-bound\n * `BlockContent` component via context, which is used by the developer-facing\n * `InnerBlocks.Content` component to render block content.\n *\n * @example\n *\n * ```jsx\n * <BlockContentProvider innerBlocks={ innerBlocks }>\n * \t{ blockSaveElement }\n * </BlockContentProvider>\n * ```\n *\n * @return {WPElement} Element with BlockContent injected via context.\n */\nconst BlockContentProvider = ( { children, innerBlocks } ) => {\n\tconst BlockContent = () => {\n\t\t// Value is an array of blocks, so defer to block serializer\n\t\tconst html = serialize( innerBlocks, { isInnerBlocks: true } );\n\n\t\t// Use special-cased raw HTML tag to avoid default escaping\n\t\treturn <RawHTML>{ html }</RawHTML>;\n\t};\n\n\treturn (\n\t\t<Provider value={ BlockContent }>\n\t\t\t{ children }\n\t\t</Provider>\n\t);\n};\n\n/**\n * A Higher Order Component used to inject BlockContent using context to the\n * wrapped component.\n *\n * @return {Component} Enhanced component with injected BlockContent as prop.\n */\nexport const withBlockContentContext = createHigherOrderComponent( ( OriginalComponent ) => {\n\treturn ( props ) => (\n\t\t<Consumer>\n\t\t\t{ ( context ) => (\n\t\t\t\t<OriginalComponent\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tBlockContent={ context }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</Consumer>\n\t);\n}, 'withBlockContentContext' );\n\nexport default BlockContentProvider;\n"]}