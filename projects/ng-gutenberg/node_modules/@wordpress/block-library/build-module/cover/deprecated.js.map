{"version":3,"sources":["@wordpress/block-library/src/cover/deprecated.js"],"names":["omit","classnames","createBlock","RichText","getColorClassName","__","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","backgroundImageStyles","dimRatioToClass","blockAttributes","url","type","id","hasParallax","default","dimRatio","overlayColor","customOverlayColor","backgroundType","focalPoint","deprecated","attributes","title","source","selector","contentAlign","supports","align","save","overlayColorClass","style","backgroundColor","backgroundPosition","x","y","classes","isEmpty","migrate","content","fontSize","placeholder","className"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { omit } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tRichText,\n\tgetColorClassName,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tbackgroundImageStyles,\n\tdimRatioToClass,\n} from './shared';\n\nconst blockAttributes = {\n\turl: {\n\t\ttype: 'string',\n\t},\n\tid: {\n\t\ttype: 'number',\n\t},\n\thasParallax: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tdimRatio: {\n\t\ttype: 'number',\n\t\tdefault: 50,\n\t},\n\toverlayColor: {\n\t\ttype: 'string',\n\t},\n\tcustomOverlayColor: {\n\t\ttype: 'string',\n\t},\n\tbackgroundType: {\n\t\ttype: 'string',\n\t\tdefault: 'image',\n\t},\n\tfocalPoint: {\n\t\ttype: 'object',\n\t},\n};\n\nconst deprecated = [\n\t{\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t\ttitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'p',\n\t\t\t},\n\t\t\tcontentAlign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'center',\n\t\t\t},\n\t\t},\n\t\tsupports: {\n\t\t\talign: true,\n\t\t},\n\t\tsave( { attributes } ) {\n\t\t\tconst {\n\t\t\t\tbackgroundType,\n\t\t\t\tcontentAlign,\n\t\t\t\tcustomOverlayColor,\n\t\t\t\tdimRatio,\n\t\t\t\tfocalPoint,\n\t\t\t\thasParallax,\n\t\t\t\toverlayColor,\n\t\t\t\ttitle,\n\t\t\t\turl,\n\t\t\t} = attributes;\n\t\t\tconst overlayColorClass = getColorClassName( 'background-color', overlayColor );\n\t\t\tconst style = backgroundType === IMAGE_BACKGROUND_TYPE ?\n\t\t\t\tbackgroundImageStyles( url ) :\n\t\t\t\t{};\n\t\t\tif ( ! overlayColorClass ) {\n\t\t\t\tstyle.backgroundColor = customOverlayColor;\n\t\t\t}\n\t\t\tif ( focalPoint && ! hasParallax ) {\n\t\t\t\tstyle.backgroundPosition = `${ focalPoint.x * 100 }% ${ focalPoint.y * 100 }%`;\n\t\t\t}\n\n\t\t\tconst classes = classnames(\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\toverlayColorClass,\n\t\t\t\t{\n\t\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t\t[ `has-${ contentAlign }-content` ]: contentAlign !== 'center',\n\t\t\t\t},\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={ classes } style={ style }>\n\t\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && url && ( <video\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t/> ) }\n\t\t\t\t\t{ ! RichText.isEmpty( title ) && (\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" className=\"wp-block-cover-text\" value={ title } />\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tmigrate( attributes ) {\n\t\t\treturn [\n\t\t\t\tomit( attributes, [ 'title', 'contentAlign' ] ),\n\t\t\t\t[\n\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: attributes.title,\n\t\t\t\t\t\t\talign: attributes.contentAlign,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t\tplaceholder: __( 'Write title…' ),\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t];\n\t\t},\n\t}, {\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t\ttitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'p',\n\t\t\t},\n\t\t\tcontentAlign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'center',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\tsupports: {\n\t\t\tclassName: false,\n\t\t},\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, title, hasParallax, dimRatio, align, contentAlign, overlayColor, customOverlayColor } = attributes;\n\t\t\tconst overlayColorClass = getColorClassName( 'background-color', overlayColor );\n\t\t\tconst style = backgroundImageStyles( url );\n\t\t\tif ( ! overlayColorClass ) {\n\t\t\t\tstyle.backgroundColor = customOverlayColor;\n\t\t\t}\n\n\t\t\tconst classes = classnames(\n\t\t\t\t'wp-block-cover-image',\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\toverlayColorClass,\n\t\t\t\t{\n\t\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t\t[ `has-${ contentAlign }-content` ]: contentAlign !== 'center',\n\t\t\t\t},\n\t\t\t\talign ? `align${ align }` : null,\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={ classes } style={ style }>\n\t\t\t\t\t{ ! RichText.isEmpty( title ) && (\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" className=\"wp-block-cover-image-text\" value={ title } />\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tmigrate( attributes ) {\n\t\t\treturn [\n\t\t\t\tomit( attributes, [ 'title', 'contentAlign', 'align' ] ),\n\t\t\t\t[\n\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: attributes.title,\n\t\t\t\t\t\t\talign: attributes.contentAlign,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t\tplaceholder: __( 'Write title…' ),\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t];\n\t\t},\n\t}, {\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t\ttitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'h2',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tcontentAlign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'center',\n\t\t\t},\n\t\t},\n\t\tsupports: {\n\t\t\tclassName: false,\n\t\t},\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, title, hasParallax, dimRatio, align } = attributes;\n\t\t\tconst style = backgroundImageStyles( url );\n\t\t\tconst classes = classnames(\n\t\t\t\t'wp-block-cover-image',\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t{\n\t\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t},\n\t\t\t\talign ? `align${ align }` : null,\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<section className={ classes } style={ style }>\n\t\t\t\t\t<RichText.Content tagName=\"h2\" value={ title } />\n\t\t\t\t</section>\n\t\t\t);\n\t\t},\n\t\tmigrate( attributes ) {\n\t\t\treturn [\n\t\t\t\tomit( attributes, [ 'title', 'contentAlign', 'align' ] ),\n\t\t\t\t[\n\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: attributes.title,\n\t\t\t\t\t\t\talign: attributes.contentAlign,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t\tplaceholder: __( 'Write title…' ),\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t];\n\t\t},\n\t},\n];\n\nexport default deprecated;\n"]}