{"version":3,"sources":["@wordpress/block-library/src/audio/transforms.js"],"names":["createBlobURL","createBlock","transforms","from","type","isMatch","files","length","indexOf","transform","file","block","src","tag","attributes","shortcode","named","loop","autoplay","preload"],"mappings":"AAAA;;;AAGA,SAASA,aAAT,QAA8B,iBAA9B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA,IAAMC,UAAU,GAAG;AAClBC,EAAAA,IAAI,EAAE,CACL;AACCC,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,OAFD,mBAEUC,KAFV,EAEkB;AAChB,aAAOA,KAAK,CAACC,MAAN,KAAiB,CAAjB,IAAsBD,KAAK,CAAE,CAAF,CAAL,CAAWF,IAAX,CAAgBI,OAAhB,CAAyB,QAAzB,MAAwC,CAArE;AACA,KAJF;AAKCC,IAAAA,SALD,qBAKYH,KALZ,EAKoB;AAClB,UAAMI,IAAI,GAAGJ,KAAK,CAAE,CAAF,CAAlB,CADkB,CAElB;AACA;AACA;;AACA,UAAMK,KAAK,GAAGV,WAAW,CAAE,YAAF,EAAgB;AACxCW,QAAAA,GAAG,EAAEZ,aAAa,CAAEU,IAAF;AADsB,OAAhB,CAAzB;AAIA,aAAOC,KAAP;AACA;AAfF,GADK,EAkBL;AACCP,IAAAA,IAAI,EAAE,WADP;AAECS,IAAAA,GAAG,EAAE,OAFN;AAGCC,IAAAA,UAAU,EAAE;AACXF,MAAAA,GAAG,EAAE;AACJR,QAAAA,IAAI,EAAE,QADF;AAEJW,QAAAA,SAAS,EAAE,yBAA0B;AAAA,cAAbH,GAAa,QAAtBI,KAAsB,CAAbJ,GAAa;AACpC,iBAAOA,GAAP;AACA;AAJG,OADM;AAOXK,MAAAA,IAAI,EAAE;AACLb,QAAAA,IAAI,EAAE,QADD;AAELW,QAAAA,SAAS,EAAE,0BAA2B;AAAA,cAAdE,IAAc,SAAvBD,KAAuB,CAAdC,IAAc;AACrC,iBAAOA,IAAP;AACA;AAJI,OAPK;AAaXC,MAAAA,QAAQ,EAAE;AACTd,QAAAA,IAAI,EAAE,QADG;AAETW,QAAAA,SAAS,EAAE,0BAA+B;AAAA,cAAlBG,QAAkB,SAA3BF,KAA2B,CAAlBE,QAAkB;AACzC,iBAAOA,QAAP;AACA;AAJQ,OAbC;AAmBXC,MAAAA,OAAO,EAAE;AACRf,QAAAA,IAAI,EAAE,QADE;AAERW,QAAAA,SAAS,EAAE,0BAA8B;AAAA,cAAjBI,OAAiB,SAA1BH,KAA0B,CAAjBG,OAAiB;AACxC,iBAAOA,OAAP;AACA;AAJO;AAnBE;AAHb,GAlBK;AADY,CAAnB;AAoDA,eAAejB,UAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\nimport { createBlock } from '@wordpress/blocks';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'files',\n\t\t\tisMatch( files ) {\n\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'audio/' ) === 0;\n\t\t\t},\n\t\t\ttransform( files ) {\n\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t// in the audio block\n\t\t\t\tconst block = createBlock( 'core/audio', {\n\t\t\t\t\tsrc: createBlobURL( file ),\n\t\t\t\t} );\n\n\t\t\t\treturn block;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'shortcode',\n\t\t\ttag: 'audio',\n\t\t\tattributes: {\n\t\t\t\tsrc: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tshortcode: ( { named: { src } } ) => {\n\t\t\t\t\t\treturn src;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tloop: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tshortcode: ( { named: { loop } } ) => {\n\t\t\t\t\t\treturn loop;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tautoplay: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tshortcode: ( { named: { autoplay } } ) => {\n\t\t\t\t\t\treturn autoplay;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpreload: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tshortcode: ( { named: { preload } } ) => {\n\t\t\t\t\t\treturn preload;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}